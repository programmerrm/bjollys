import{r as d,j as e}from"./index-7zqVQZSl.js";import{u as h,F as u}from"./field-ShKTF1df.js";import{a as f}from"./ticketApi-DWZ4AUsO.js";import{e as y}from"./index-BKM5EYG8.js";import"./apiSlice-DVphb7vo.js";const v="data:image/png;base64,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",w=()=>{const p=y(),[m]=f(),{handleSubmit:x,register:n,reset:j,formState:{errors:c},watch:g}=h(),[A,a]=d.useState(null),i=g("file");d.useEffect(()=>{if(i!=null&&i[0]){const r=i[0],s=URL.createObjectURL(r);return a(s),()=>URL.revokeObjectURL(s)}},[i]);const b=async r=>{var s,l;try{const t=(s=r.file)==null?void 0:s[0],o=new FormData;o.append("issueType",r.issueType),o.append("description",r.description),t&&o.append("file",t),await m(o).unwrap(),alert("Ticket submitted successfully!"),p("/support/"),j(),a(null)}catch(t){console.error(t),alert(((l=t==null?void 0:t.data)==null?void 0:l.message)||"Failed to submit the ticket. Please try again.")}};return e.jsxs("form",{onSubmit:x(b),className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 mb-4",children:[e.jsx(u,{label:"Issue Type",error:c.issueType,children:e.jsxs("select",{...n("issueType",{required:"Issue type is required"}),id:"issueType",className:"border px-3 py-2 rounded",children:[e.jsx("option",{value:"",children:"Select Issue Type*"}),e.jsx("option",{value:"Account Issue",children:"Account Issue"}),e.jsx("option",{value:"Payment Issue",children:"Payment Issue"}),e.jsx("option",{value:"Technical Issue",children:"Technical Issue"}),e.jsx("option",{value:"Mexc Telegram Group",children:"Mexc Telegram Group"}),e.jsx("option",{value:"Boflin Telegram Group",children:"Boflin Telegram Group"}),e.jsx("option",{value:"Welcome Paid Email Issue",children:"Welcome Paid Email Issue"}),e.jsx("option",{value:"OTP Issues",children:"OTP Issues"}),e.jsx("option",{value:"Forgot Password Issues",children:"Forgot Password Issues"}),e.jsx("option",{value:"Other",children:"Other"})]})}),e.jsx(u,{label:"Description",error:c.description,children:e.jsx("textarea",{...n("description",{required:"Description is required"}),id:"description",placeholder:"Add Description*",className:"border px-3 py-2 rounded"})})]}),e.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[e.jsx("div",{children:"Kindly upload a screenshot of the issue (Optional)"}),e.jsxs("label",{className:"h-[9.375rem] max-w-[15.625rem] border-2 border-dashed border-[#adadad] rounded-[0.313rem] flex items-center justify-center relative cursor-pointer",children:[e.jsx("input",{...n("file"),type:"file",id:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:r=>{var l;const s=(l=r.target.files)==null?void 0:l[0];a(s?URL.createObjectURL(s):null)}}),e.jsx("div",{className:"size-[1.875rem] flex items-center justify-center absolute inset-0 bg-white w-full h-full",children:A?e.jsx("img",{src:A,alt:"Preview",className:"object-contain max-h-full max-w-full"}):e.jsx("img",{className:"object-contain",src:v,alt:"Upload Icon"})})]})]}),e.jsx("div",{className:"flex",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",type:"submit",children:"Submit"})})]})};function I(){return e.jsx("section",{className:"py-[70px]",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary rounded-[20px] p-1 max-w-[62.5rem] mx-auto",children:e.jsxs("div",{className:"bg-white rounded-[18px] py-5 px-[7px] md:p-10 flex flex-col gap-[4.063rem]",children:[e.jsx("h2",{className:"text-center text-[28px] leading-[1.2] font-semibold text-title lg:text-[35px]",children:"Create Ticket"}),e.jsx(w,{})]})})})})}export{I as default};
