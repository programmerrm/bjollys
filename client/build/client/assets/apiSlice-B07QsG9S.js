var tr=Object.defineProperty;var nr=(e,t,n)=>t in e?tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $e=(e,t,n)=>nr(e,typeof t!="symbol"?t+"":t,n);import{a as rr,r as j}from"./index-7zqVQZSl.js";var dt={exports:{}},pt={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt;function ir(){if(Kt)return pt;Kt=1;var e=rr();function t(b,v){return b===v&&(b!==0||1/b===1/v)||b!==b&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,y=e.useDebugValue;return pt.useSyncExternalStoreWithSelector=function(b,v,w,A,f){var l=i(null);if(l.current===null){var _={hasValue:!1,value:null};l.current=_}else _=l.current;l=a(function(){function R(u){if(!h){if(h=!0,M=u,u=A(u),f!==void 0&&_.hasValue){var S=_.value;if(f(S,u))return c=S}return c=u}if(S=c,n(M,u))return S;var O=A(u);return f!==void 0&&f(S,O)?(M=u,S):(M=u,c=O)}var h=!1,M,c,s=w===void 0?null:w;return[function(){return R(v())},s===null?void 0:function(){return R(s())}]},[v,w,A,f]);var C=r(b,l[0],l[1]);return o(function(){_.hasValue=!0,_.value=C},[C]),y(C),C},pt}var Bt;function sr(){return Bt||(Bt=1,dt.exports=ir()),dt.exports}var or=sr();function En(e){e()}function ur(){let e=null,t=null;return{clear(){e=null,t=null},notify(){En(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Ht={notify(){},get:()=>[]};function cr(e,t){let n,r=Ht,i=0,o=!1;function a(C){w();const R=r.subscribe(C);let h=!1;return()=>{h||(h=!0,R(),A())}}function y(){r.notify()}function b(){_.onStateChange&&_.onStateChange()}function v(){return o}function w(){i++,n||(n=e.subscribe(b),r=ur())}function A(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Ht)}function f(){o||(o=!0,w())}function l(){o&&(o=!1,A())}const _={addNestedSub:a,notifyNestedSubs:y,handleChangeWrapper:b,isSubscribed:v,trySubscribe:f,tryUnsubscribe:l,getListeners:()=>r};return _}var ar=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fr=ar(),lr=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dr=lr(),pr=()=>fr||dr?j.useLayoutEffect:j.useEffect,yr=pr();function Jt(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Me(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Jt(e[n[i]],t[n[i]]))return!1;return!0}var yt=Symbol.for("react-redux-context"),ht=typeof globalThis<"u"?globalThis:{};function hr(){if(!j.createContext)return{};const e=ht[yt]??(ht[yt]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var fe=hr();function gr(e){const{children:t,context:n,serverState:r,store:i}=e,o=j.useMemo(()=>{const b=cr(i);return{store:i,subscription:b,getServerState:r?()=>r:void 0}},[i,r]),a=j.useMemo(()=>i.getState(),[i]);yr(()=>{const{subscription:b}=o;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),a!==i.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[o,a]);const y=n||fe;return j.createElement(y.Provider,{value:o},t)}var ps=gr;function qt(e=fe){return function(){return j.useContext(e)}}var Rn=qt();function Pn(e=fe){const t=e===fe?Rn:qt(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var An=Pn();function mr(e=fe){const t=e===fe?An:Pn(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var br=mr(),vr=(e,t)=>e===t;function Sr(e=fe){const t=e===fe?Rn:qt(e),n=(r,i={})=>{const{equalityFn:o=vr}=typeof i=="function"?{equalityFn:i}:i,a=t(),{store:y,subscription:b,getServerState:v}=a;j.useRef(!0);const w=j.useCallback({[r.name](f){return r(f)}}[r.name],[r]),A=or.useSyncExternalStoreWithSelector(b.addNestedSub,y.getState,v||y.getState,w,o);return j.useDebugValue(A),A};return Object.assign(n,{withTypes:()=>n}),n}var wr=Sr(),_r=En;function B(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Er=typeof Symbol=="function"&&Symbol.observable||"@@observable",Gt=Er,gt=()=>Math.random().toString(36).substring(7).split("").join("."),Rr={INIT:`@@redux/INIT${gt()}`,REPLACE:`@@redux/REPLACE${gt()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gt()}`},Xe=Rr;function le(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Cn(e,t,n){if(typeof e!="function")throw new Error(B(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(B(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(B(1));return n(Cn)(e,t)}let r=e,i=t,o=new Map,a=o,y=0,b=!1;function v(){a===o&&(a=new Map,o.forEach((R,h)=>{a.set(h,R)}))}function w(){if(b)throw new Error(B(3));return i}function A(R){if(typeof R!="function")throw new Error(B(4));if(b)throw new Error(B(5));let h=!0;v();const M=y++;return a.set(M,R),function(){if(h){if(b)throw new Error(B(6));h=!1,v(),a.delete(M),o=null}}}function f(R){if(!le(R))throw new Error(B(7));if(typeof R.type>"u")throw new Error(B(8));if(typeof R.type!="string")throw new Error(B(17));if(b)throw new Error(B(9));try{b=!0,i=r(i,R)}finally{b=!1}return(o=a).forEach(M=>{M()}),R}function l(R){if(typeof R!="function")throw new Error(B(10));r=R,f({type:Xe.REPLACE})}function _(){const R=A;return{subscribe(h){if(typeof h!="object"||h===null)throw new Error(B(11));function M(){const s=h;s.next&&s.next(w())}return M(),{unsubscribe:R(M)}},[Gt](){return this}}}return f({type:Xe.INIT}),{dispatch:f,subscribe:A,getState:w,replaceReducer:l,[Gt]:_}}function Pr(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Xe.INIT})>"u")throw new Error(B(12));if(typeof n(void 0,{type:Xe.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(B(13))})}function On(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const a=t[o];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{Pr(n)}catch(o){i=o}return function(a={},y){if(i)throw i;let b=!1;const v={};for(let w=0;w<r.length;w++){const A=r[w],f=n[A],l=a[A],_=f(l,y);if(typeof _>"u")throw y&&y.type,new Error(B(14));v[A]=_,b=b||_!==l}return b=b||r.length!==Object.keys(a).length,b?v:a}}function Ye(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Ar(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(B(15))};const a={getState:i.getState,dispatch:(b,...v)=>o(b,...v)},y=e.map(b=>b(a));return o=Ye(...y)(i.dispatch),{...i,dispatch:o}}}function Mn(e){return le(e)&&"type"in e&&typeof e.type=="string"}var xt=Symbol.for("immer-nothing"),Ie=Symbol.for("immer-draftable"),X=Symbol.for("immer-state");function H(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ge=Object.getPrototypeOf;function se(e){return!!e&&!!e[X]}function ne(e){var t;return e?In(e)||Array.isArray(e)||!!e[Ie]||!!((t=e.constructor)!=null&&t[Ie])||Ne(e)||Fe(e):!1}var Cr=Object.prototype.constructor.toString();function In(e){if(!e||typeof e!="object")return!1;const t=ge(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Cr}function Or(e){return se(e)||H(15,e),e[X].base_}function Te(e,t){me(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function me(e){const t=e[X];return t?t.type_:Array.isArray(e)?1:Ne(e)?2:Fe(e)?3:0}function De(e,t){return me(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mt(e,t){return me(e)===2?e.get(t):e[t]}function kn(e,t,n){const r=me(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Mr(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ne(e){return e instanceof Map}function Fe(e){return e instanceof Set}function ye(e){return e.copy_||e.base_}function Pt(e,t){if(Ne(e))return new Map(e);if(Fe(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=In(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[X];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],y=r[a];y.writable===!1&&(y.writable=!0,y.configurable=!0),(y.get||y.set)&&(r[a]={configurable:!0,writable:!0,enumerable:y.enumerable,value:e[a]})}return Object.create(ge(e),r)}else{const r=ge(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function jt(e,t=!1){return st(e)||se(e)||!ne(e)||(me(e)>1&&(e.set=e.add=e.clear=e.delete=Ir),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>jt(r,!0))),e}function Ir(){H(2)}function st(e){return Object.isFrozen(e)}var At={};function be(e){const t=At[e];return t||H(0,e),t}function kr(e,t){At[e]||(At[e]=t)}var Qe;function Tn(){return Qe}function Tr(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Xt(e,t){t&&(be("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ct(e){Ot(e),e.drafts_.forEach(Dr),e.drafts_=null}function Ot(e){e===Qe&&(Qe=e.parent_)}function Yt(e){return Qe=Tr(Qe,e)}function Dr(e){const t=e[X];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Zt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[X].modified_&&(Ct(t),H(4)),ne(e)&&(e=Ze(t,e),t.parent_||et(t,e)),t.patches_&&be("Patches").generateReplacementPatches_(n[X].base_,e,t.patches_,t.inversePatches_)):e=Ze(t,n,[]),Ct(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xt?e:void 0}function Ze(e,t,n){if(st(t))return t;const r=t[X];if(!r)return Te(t,(i,o)=>en(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return et(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,a=!1;r.type_===3&&(o=new Set(i),i.clear(),a=!0),Te(o,(y,b)=>en(e,r,i,y,b,n,a)),et(e,i,!1),n&&e.patches_&&be("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function en(e,t,n,r,i,o,a){if(se(i)){const y=o&&t&&t.type_!==3&&!De(t.assigned_,r)?o.concat(r):void 0,b=Ze(e,i,y);if(kn(n,r,b),se(b))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(ne(i)&&!st(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ze(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&et(e,i)}}function et(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&jt(t,n)}function Qr(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Tn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Nt;n&&(i=[r],o=qe);const{revoke:a,proxy:y}=Proxy.revocable(i,o);return r.draft_=y,r.revoke_=a,y}var Nt={get(e,t){if(t===X)return e;const n=ye(e);if(!De(n,t))return qr(e,n,t);const r=n[t];return e.finalized_||!ne(r)?r:r===bt(e.base_,t)?(vt(e),e.copy_[t]=It(r,e)):r},has(e,t){return t in ye(e)},ownKeys(e){return Reflect.ownKeys(ye(e))},set(e,t,n){const r=Dn(ye(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=bt(ye(e),t),o=i==null?void 0:i[X];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Mr(n,i)&&(n!==void 0||De(e.base_,t)))return!0;vt(e),Mt(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return bt(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,vt(e),Mt(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ye(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){H(11)},getPrototypeOf(e){return ge(e.base_)},setPrototypeOf(){H(12)}},qe={};Te(Nt,(e,t)=>{qe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});qe.deleteProperty=function(e,t){return qe.set.call(this,e,t,void 0)};qe.set=function(e,t,n){return Nt.set.call(this,e[0],t,n,e[0])};function bt(e,t){const n=e[X];return(n?ye(n):e)[t]}function qr(e,t,n){var i;const r=Dn(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Dn(e,t){if(!(t in e))return;let n=ge(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ge(n)}}function Mt(e){e.modified_||(e.modified_=!0,e.parent_&&Mt(e.parent_))}function vt(e){e.copy_||(e.copy_=Pt(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xr=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const a=this;return function(b=o,...v){return a.produce(b,w=>n.call(this,w,...v))}}typeof n!="function"&&H(6),r!==void 0&&typeof r!="function"&&H(7);let i;if(ne(t)){const o=Yt(this),a=It(t,void 0);let y=!0;try{i=n(a),y=!1}finally{y?Ct(o):Ot(o)}return Xt(o,r),Zt(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===xt&&(i=void 0),this.autoFreeze_&&jt(i,!0),r){const o=[],a=[];be("Patches").generateReplacementPatches_(t,i,o,a),r(o,a)}return i}else H(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...y)=>this.produceWithPatches(a,b=>t(b,...y));let r,i;return[this.produce(t,n,(a,y)=>{r=a,i=y}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ne(e)||H(8),se(e)&&(e=jr(e));const t=Yt(this),n=It(e,void 0);return n[X].isManual_=!0,Ot(t),n}finishDraft(e,t){const n=e&&e[X];(!n||!n.isManual_)&&H(9);const{scope_:r}=n;return Xt(r,t),Zt(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=be("Patches").applyPatches_;return se(e)?r(e,t):this.produce(e,i=>r(i,t))}};function It(e,t){const n=Ne(e)?be("MapSet").proxyMap_(e,t):Fe(e)?be("MapSet").proxySet_(e,t):Qr(e,t);return(t?t.scope_:Tn()).drafts_.push(n),n}function jr(e){return se(e)||H(10,e),Qn(e)}function Qn(e){if(!ne(e)||st(e))return e;const t=e[X];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Pt(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Pt(e,!0);return Te(n,(r,i)=>{kn(n,r,Qn(i))}),t&&(t.finalized_=!1),n}function Nr(){const t="replace",n="add",r="remove";function i(f,l,_,C){switch(f.type_){case 0:case 2:return a(f,l,_,C);case 1:return o(f,l,_,C);case 3:return y(f,l,_,C)}}function o(f,l,_,C){let{base_:R,assigned_:h}=f,M=f.copy_;M.length<R.length&&([R,M]=[M,R],[_,C]=[C,_]);for(let c=0;c<R.length;c++)if(h[c]&&M[c]!==R[c]){const s=l.concat([c]);_.push({op:t,path:s,value:A(M[c])}),C.push({op:t,path:s,value:A(R[c])})}for(let c=R.length;c<M.length;c++){const s=l.concat([c]);_.push({op:n,path:s,value:A(M[c])})}for(let c=M.length-1;R.length<=c;--c){const s=l.concat([c]);C.push({op:r,path:s})}}function a(f,l,_,C){const{base_:R,copy_:h}=f;Te(f.assigned_,(M,c)=>{const s=mt(R,M),u=mt(h,M),S=c?De(R,M)?t:n:r;if(s===u&&S===t)return;const O=l.concat(M);_.push(S===r?{op:S,path:O}:{op:S,path:O,value:u}),C.push(S===n?{op:r,path:O}:S===r?{op:n,path:O,value:A(s)}:{op:t,path:O,value:A(s)})})}function y(f,l,_,C){let{base_:R,copy_:h}=f,M=0;R.forEach(c=>{if(!h.has(c)){const s=l.concat([M]);_.push({op:r,path:s,value:c}),C.unshift({op:n,path:s,value:c})}M++}),M=0,h.forEach(c=>{if(!R.has(c)){const s=l.concat([M]);_.push({op:n,path:s,value:c}),C.unshift({op:r,path:s,value:c})}M++})}function b(f,l,_,C){_.push({op:t,path:[],value:l===xt?void 0:l}),C.push({op:t,path:[],value:f})}function v(f,l){return l.forEach(_=>{const{path:C,op:R}=_;let h=f;for(let u=0;u<C.length-1;u++){const S=me(h);let O=C[u];typeof O!="string"&&typeof O!="number"&&(O=""+O),(S===0||S===1)&&(O==="__proto__"||O==="constructor")&&H(19),typeof h=="function"&&O==="prototype"&&H(19),h=mt(h,O),typeof h!="object"&&H(18,C.join("/"))}const M=me(h),c=w(_.value),s=C[C.length-1];switch(R){case t:switch(M){case 2:return h.set(s,c);case 3:H(16);default:return h[s]=c}case n:switch(M){case 1:return s==="-"?h.push(c):h.splice(s,0,c);case 2:return h.set(s,c);case 3:return h.add(c);default:return h[s]=c}case r:switch(M){case 1:return h.splice(s,1);case 2:return h.delete(s);case 3:return h.delete(_.value);default:return delete h[s]}default:H(17,R)}}),f}function w(f){if(!ne(f))return f;if(Array.isArray(f))return f.map(w);if(Ne(f))return new Map(Array.from(f.entries()).map(([_,C])=>[_,w(C)]));if(Fe(f))return new Set(Array.from(f).map(w));const l=Object.create(ge(f));for(const _ in f)l[_]=w(f[_]);return De(f,Ie)&&(l[Ie]=f[Ie]),l}function A(f){return se(f)?w(f):f}kr("Patches",{applyPatches_:v,generatePatches_:i,generateReplacementPatches_:b})}var Y=new xr,ze=Y.produce,qn=Y.produceWithPatches.bind(Y);Y.setAutoFreeze.bind(Y);Y.setUseStrictShallowCopy.bind(Y);var tn=Y.applyPatches.bind(Y);Y.createDraft.bind(Y);Y.finishDraft.bind(Y);function Fr(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function zr(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Ur(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var nn=e=>Array.isArray(e)?e:[e];function $r(e){const t=Array.isArray(e[0])?e[0]:e;return Ur(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Lr(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Wr=class{constructor(e){this.value=e}deref(){return this.value}},Vr=typeof WeakRef<"u"?WeakRef:Wr,Kr=0,rn=1;function Le(){return{s:Kr,v:void 0,o:null,p:null}}function tt(e,t={}){let n=Le();const{resultEqualityCheck:r}=t;let i,o=0;function a(){var A;let y=n;const{length:b}=arguments;for(let f=0,l=b;f<l;f++){const _=arguments[f];if(typeof _=="function"||typeof _=="object"&&_!==null){let C=y.o;C===null&&(y.o=C=new WeakMap);const R=C.get(_);R===void 0?(y=Le(),C.set(_,y)):y=R}else{let C=y.p;C===null&&(y.p=C=new Map);const R=C.get(_);R===void 0?(y=Le(),C.set(_,y)):y=R}}const v=y;let w;if(y.s===rn)w=y.v;else if(w=e.apply(null,arguments),o++,r){const f=((A=i==null?void 0:i.deref)==null?void 0:A.call(i))??i;f!=null&&r(f,w)&&(w=f,o!==0&&o--),i=typeof w=="object"&&w!==null||typeof w=="function"?new Vr(w):w}return v.s=rn,v.v=w,w}return a.clearCache=()=>{n=Le(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function Br(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,a=0,y,b={},v=i.pop();typeof v=="object"&&(b=v,v=i.pop()),Fr(v,`createSelector expects an output function after the inputs, but received: [${typeof v}]`);const w={...n,...b},{memoize:A,memoizeOptions:f=[],argsMemoize:l=tt,argsMemoizeOptions:_=[]}=w,C=nn(f),R=nn(_),h=$r(i),M=A(function(){return o++,v.apply(null,arguments)},...C),c=l(function(){a++;const u=Lr(h,arguments);return y=M.apply(null,u),y},...R);return Object.assign(c,{resultFunc:v,memoizedResultFunc:M,dependencies:h,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>y,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:A,argsMemoize:l})};return Object.assign(r,{withTypes:()=>r}),r}var Ft=Br(tt),Hr=Object.assign((e,t=Ft)=>{zr(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((a,y,b)=>(a[n[b]]=y,a),{}))},{withTypes:()=>Hr});function xn(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var Jr=xn(),Gr=xn,Xr=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ye:Ye.apply(null,arguments)},Yr=e=>e&&typeof e.match=="function";function ee(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(te(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Mn(r)&&r.type===e,n}var jn=class Oe extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Oe.prototype)}static get[Symbol.species](){return Oe}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Oe(...t[0].concat(this)):new Oe(...t.concat(this))}};function sn(e){return ne(e)?ze(e,()=>{}):e}function We(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Zr(e){return typeof e=="boolean"}var ei=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let a=new jn;return n&&(Zr(n)?a.push(Jr):a.push(Gr(n.extraArgument))),a},ot="RTK_autoBatch",Pe=()=>e=>({payload:e,meta:{[ot]:!0}}),on=e=>t=>{setTimeout(t,e)},ti=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,a=!1;const y=new Set,b=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:on(10):e.type==="callback"?e.queueNotification:on(e.timeout),v=()=>{a=!1,o&&(o=!1,y.forEach(w=>w()))};return Object.assign({},r,{subscribe(w){const A=()=>i&&w(),f=r.subscribe(A);return y.add(w),()=>{f(),y.delete(w)}},dispatch(w){var A;try{return i=!((A=w==null?void 0:w.meta)!=null&&A[ot]),o=!i,o&&(a||(a=!0,b(v))),r.dispatch(w)}finally{i=!0}}})},ni=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new jn(e);return r&&i.push(ti(typeof r=="object"?r:void 0)),i};function ys(e){const t=ei(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=e||{};let y;if(typeof n=="function")y=n;else if(le(n))y=On(n);else throw new Error(te(1));let b;typeof r=="function"?b=r(t):b=t();let v=Ye;i&&(v=Xr({trace:!1,...typeof i=="object"&&i}));const w=Ar(...b),A=ni(w);let f=typeof a=="function"?a(A):A();const l=v(...f);return Cn(y,o,l)}function Nn(e){const t={},n=[];let r;const i={addCase(o,a){const y=typeof o=="string"?o:o.type;if(!y)throw new Error(te(28));if(y in t)throw new Error(te(29));return t[y]=a,i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function ri(e){return typeof e=="function"}function ii(e,t){let[n,r,i]=Nn(t),o;if(ri(e))o=()=>sn(e());else{const y=sn(e);o=()=>y}function a(y=o(),b){let v=[n[b.type],...r.filter(({matcher:w})=>w(b)).map(({reducer:w})=>w)];return v.filter(w=>!!w).length===0&&(v=[i]),v.reduce((w,A)=>{if(A)if(se(w)){const l=A(w,b);return l===void 0?w:l}else{if(ne(w))return ze(w,f=>A(f,b));{const f=A(w,b);if(f===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return w},y)}return a.getInitialState=o,a}var Fn=(e,t)=>Yr(e)?e.match(t):e(t);function ce(...e){return t=>e.some(n=>Fn(n,t))}function ke(...e){return t=>e.every(n=>Fn(n,t))}function ut(e,t){if(!e||!e.meta)return!1;const n=typeof e.meta.requestId=="string",r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function Ue(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function zt(...e){return e.length===0?t=>ut(t,["pending"]):Ue(e)?ce(...e.map(t=>t.pending)):zt()(e[0])}function Ee(...e){return e.length===0?t=>ut(t,["rejected"]):Ue(e)?ce(...e.map(t=>t.rejected)):Ee()(e[0])}function ct(...e){const t=n=>n&&n.meta&&n.meta.rejectedWithValue;return e.length===0?ke(Ee(...e),t):Ue(e)?ke(Ee(...e),t):ct()(e[0])}function de(...e){return e.length===0?t=>ut(t,["fulfilled"]):Ue(e)?ce(...e.map(t=>t.fulfilled)):de()(e[0])}function kt(...e){return e.length===0?t=>ut(t,["pending","fulfilled","rejected"]):Ue(e)?ce(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):kt()(e[0])}var si="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ut=(e=21)=>{let t="",n=e;for(;n--;)t+=si[Math.random()*64|0];return t},oi=["name","message","stack","code"],St=class{constructor(e,t){$e(this,"_type");this.payload=e,this.meta=t}},un=class{constructor(e,t){$e(this,"_type");this.payload=e,this.meta=t}},ui=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of oi)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},cn="External signal was aborted",an=(()=>{function e(t,n,r){const i=ee(t+"/fulfilled",(b,v,w,A)=>({payload:b,meta:{...A||{},arg:w,requestId:v,requestStatus:"fulfilled"}})),o=ee(t+"/pending",(b,v,w)=>({payload:void 0,meta:{...w||{},arg:v,requestId:b,requestStatus:"pending"}})),a=ee(t+"/rejected",(b,v,w,A,f)=>({payload:A,error:(r&&r.serializeError||ui)(b||"Rejected"),meta:{...f||{},arg:w,requestId:v,rejectedWithValue:!!A,requestStatus:"rejected",aborted:(b==null?void 0:b.name)==="AbortError",condition:(b==null?void 0:b.name)==="ConditionError"}}));function y(b,{signal:v}={}){return(w,A,f)=>{const l=r!=null&&r.idGenerator?r.idGenerator(b):Ut(),_=new AbortController;let C,R;function h(c){R=c,_.abort()}v&&(v.aborted?h(cn):v.addEventListener("abort",()=>h(cn),{once:!0}));const M=async function(){var u,S;let c;try{let O=(u=r==null?void 0:r.condition)==null?void 0:u.call(r,b,{getState:A,extra:f});if(ai(O)&&(O=await O),O===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const I=new Promise((g,d)=>{C=()=>{d({name:"AbortError",message:R||"Aborted"})},_.signal.addEventListener("abort",C)});w(o(l,b,(S=r==null?void 0:r.getPendingMeta)==null?void 0:S.call(r,{requestId:l,arg:b},{getState:A,extra:f}))),c=await Promise.race([I,Promise.resolve(n(b,{dispatch:w,getState:A,extra:f,requestId:l,signal:_.signal,abort:h,rejectWithValue:(g,d)=>new St(g,d),fulfillWithValue:(g,d)=>new un(g,d)})).then(g=>{if(g instanceof St)throw g;return g instanceof un?i(g.payload,l,b,g.meta):i(g,l,b)})])}catch(O){c=O instanceof St?a(null,l,b,O.payload,O.meta):a(O,l,b)}finally{C&&_.signal.removeEventListener("abort",C)}return r&&!r.dispatchConditionRejection&&a.match(c)&&c.meta.condition||w(c),c}();return Object.assign(M,{abort:h,requestId:l,arg:b,unwrap(){return M.then(ci)}})}}return Object.assign(y,{pending:o,rejected:a,fulfilled:i,settled:ce(a,i),typePrefix:t})}return e.withTypes=()=>e,e})();function ci(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function ai(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var fi=Symbol.for("rtk-slice-createasyncthunk");function li(e,t){return`${e}/${t}`}function di({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[fi];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(te(11));const y=(typeof i.reducers=="function"?i.reducers(yi()):i.reducers)||{},b=Object.keys(y),v={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(s,u){const S=typeof s=="string"?s:s.type;if(!S)throw new Error(te(12));if(S in v.sliceCaseReducersByType)throw new Error(te(13));return v.sliceCaseReducersByType[S]=u,w},addMatcher(s,u){return v.sliceMatchers.push({matcher:s,reducer:u}),w},exposeAction(s,u){return v.actionCreators[s]=u,w},exposeCaseReducer(s,u){return v.sliceCaseReducersByName[s]=u,w}};b.forEach(s=>{const u=y[s],S={reducerName:s,type:li(o,s),createNotation:typeof i.reducers=="function"};gi(u)?bi(S,u,w,t):hi(S,u,w)});function A(){const[s={},u=[],S=void 0]=typeof i.extraReducers=="function"?Nn(i.extraReducers):[i.extraReducers],O={...s,...v.sliceCaseReducersByType};return ii(i.initialState,I=>{for(let g in O)I.addCase(g,O[g]);for(let g of v.sliceMatchers)I.addMatcher(g.matcher,g.reducer);for(let g of u)I.addMatcher(g.matcher,g.reducer);S&&I.addDefaultCase(S)})}const f=s=>s,l=new Map,_=new WeakMap;let C;function R(s,u){return C||(C=A()),C(s,u)}function h(){return C||(C=A()),C.getInitialState()}function M(s,u=!1){function S(I){let g=I[s];return typeof g>"u"&&u&&(g=We(_,S,h)),g}function O(I=f){const g=We(l,u,()=>new WeakMap);return We(g,I,()=>{const d={};for(const[p,m]of Object.entries(i.selectors??{}))d[p]=pi(m,I,()=>We(_,I,h),u);return d})}return{reducerPath:s,getSelectors:O,get selectors(){return O(S)},selectSlice:S}}const c={name:o,reducer:R,actions:v.actionCreators,caseReducers:v.sliceCaseReducersByName,getInitialState:h,...M(a),injectInto(s,{reducerPath:u,...S}={}){const O=u??a;return s.inject({reducerPath:O,reducer:R},S),{...c,...M(O,!0)}}};return c}}function pi(e,t,n,r){function i(o,...a){let y=t(o);return typeof y>"u"&&r&&(y=n()),e(y,...a)}return i.unwrapped=e,i}var he=di();function yi(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function hi({type:e,reducerName:t,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!mi(r))throw new Error(te(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?ee(e,a):ee(e))}function gi(e){return e._reducerDefinitionType==="asyncThunk"}function mi(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bi({type:e,reducerName:t},n,r,i){if(!i)throw new Error(te(18));const{payloadCreator:o,fulfilled:a,pending:y,rejected:b,settled:v,options:w}=n,A=i(e,o,w);r.exposeAction(t,A),a&&r.addCase(A.fulfilled,a),y&&r.addCase(A.pending,y),b&&r.addCase(A.rejected,b),v&&r.addMatcher(A.settled,v),r.exposeCaseReducer(t,{fulfilled:a||Ve,pending:y||Ve,rejected:b||Ve,settled:v||Ve})}function Ve(){}function te(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var vi=class extends Error{constructor(t){super(t[0].message);$e(this,"issues");this.name="SchemaError",this.issues=t}},zn=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(zn||{});function fn(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var ln=le;function Un(e,t){if(e===t||!(ln(e)&&ln(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),r=Object.keys(e);let i=n.length===r.length;const o=Array.isArray(t)?[]:{};for(const a of n)o[a]=Un(e[a],t[a]),i&&(i=e[a]===o[a]);return i?e:o}function _e(e){let t=0;for(const n in e)t++;return t}var dn=e=>[].concat(...e);function Si(e){return new RegExp("(^|:)//").test(e)}function wi(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function nt(e){return e!=null}function _i(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var Ei=e=>e.replace(/\/$/,""),Ri=e=>e.replace(/^\//,"");function Pi(e,t){if(!e)return t;if(!t)return e;if(Si(t))return t;const n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=Ei(e),t=Ri(t),`${e}${n}${t}`}function Ai(e,t,n){return e.has(t)?e.get(t):e.set(t,n).get(t)}var pn=(...e)=>fetch(...e),Ci=e=>e.status>=200&&e.status<=299,Oi=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function yn(e){if(!le(e))return e;const t={...e};for(const[n,r]of Object.entries(t))r===void 0&&delete t[n];return t}function Mi({baseUrl:e,prepareHeaders:t=A=>A,fetchFn:n=pn,paramsSerializer:r,isJsonContentType:i=Oi,jsonContentType:o="application/json",jsonReplacer:a,timeout:y,responseHandler:b,validateStatus:v,...w}={}){return typeof fetch>"u"&&n===pn&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(f,l,_)=>{const{getState:C,extra:R,endpoint:h,forced:M,type:c}=l;let s,{url:u,headers:S=new Headers(w.headers),params:O=void 0,responseHandler:I=b??"json",validateStatus:g=v??Ci,timeout:d=y,...p}=typeof f=="string"?{url:f}:f,m,E=l.signal;d&&(m=new AbortController,l.signal.addEventListener("abort",m.abort),E=m.signal);let P={...w,signal:E,...p};S=new Headers(yn(S)),P.headers=await t(S,{getState:C,arg:f,extra:R,endpoint:h,forced:M,type:c,extraOptions:_})||S;const k=U=>typeof U=="object"&&(le(U)||Array.isArray(U)||typeof U.toJSON=="function");if(!P.headers.has("content-type")&&k(P.body)&&P.headers.set("content-type",o),k(P.body)&&i(P.headers)&&(P.body=JSON.stringify(P.body,a)),O){const U=~u.indexOf("?")?"&":"?",q=r?r(O):new URLSearchParams(yn(O));u+=U+q}u=Pi(e,u);const T=new Request(u,P);s={request:new Request(u,P)};let x,D=!1,N=m&&setTimeout(()=>{D=!0,m.abort()},d);try{x=await n(T)}catch(U){return{error:{status:D?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(U)},meta:s}}finally{N&&clearTimeout(N),m==null||m.signal.removeEventListener("abort",m.abort)}const F=x.clone();s.response=F;let $,K="";try{let U;if(await Promise.all([A(x,I).then(q=>$=q,q=>U=q),F.text().then(q=>K=q,()=>{})]),U)throw U}catch(U){return{error:{status:"PARSING_ERROR",originalStatus:x.status,data:K,error:String(U)},meta:s}}return g(x,$)?{data:$,meta:s}:{error:{status:x.status,data:$},meta:s}};async function A(f,l){if(typeof l=="function")return l(f);if(l==="content-type"&&(l=i(f.headers)?"json":"text"),l==="json"){const _=await f.text();return _.length?JSON.parse(_):null}return f.text()}}var hn=class{constructor(e,t=void 0){this.value=e,this.meta=t}},$t=ee("__rtkq/focused"),$n=ee("__rtkq/unfocused"),Lt=ee("__rtkq/online"),Ln=ee("__rtkq/offline");function at(e){return e.type==="query"}function Ii(e){return e.type==="mutation"}function ft(e){return e.type==="infinitequery"}function rt(e){return at(e)||ft(e)}function Wt(e,t,n,r,i,o){return ki(e)?e(t,n,r,i).filter(nt).map(Tt).map(o):Array.isArray(e)?e.map(Tt).map(o):[]}function ki(e){return typeof e=="function"}function Tt(e){return typeof e=="string"?{type:e}:e}function Ti(e,t){return e.catch(t)}var xe=Symbol("forceQueryFn"),Dt=e=>typeof e[xe]=="function";function Di({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:n,mutationThunk:r,api:i,context:o}){const a=new Map,y=new Map,{unsubscribeQueryResult:b,removeMutationResult:v,updateSubscriptionOptions:w}=i.internalActions;return{buildInitiateQuery:R,buildInitiateInfiniteQuery:h,buildInitiateMutation:M,getRunningQueryThunk:A,getRunningMutationThunk:f,getRunningQueriesThunk:l,getRunningMutationsThunk:_};function A(c,s){return u=>{var I;const S=o.endpointDefinitions[c],O=e({queryArgs:s,endpointDefinition:S,endpointName:c});return(I=a.get(u))==null?void 0:I[O]}}function f(c,s){return u=>{var S;return(S=y.get(u))==null?void 0:S[s]}}function l(){return c=>Object.values(a.get(c)||{}).filter(nt)}function _(){return c=>Object.values(y.get(c)||{}).filter(nt)}function C(c,s){const u=(S,{subscribe:O=!0,forceRefetch:I,subscriptionOptions:g,[xe]:d,...p}={})=>(m,E)=>{var W;const P=e({queryArgs:S,endpointDefinition:s,endpointName:c});let k;const T={...p,type:"query",subscribe:O,forceRefetch:I,subscriptionOptions:g,endpointName:c,originalArgs:S,queryCacheKey:P,[xe]:d};if(at(s))k=t(T);else{const{direction:z,initialPageParam:G}=p;k=n({...T,direction:z,initialPageParam:G})}const Q=i.endpoints[c].select(S),x=m(k),D=Q(E()),{requestId:N,abort:F}=x,$=D.requestId!==N,K=(W=a.get(m))==null?void 0:W[P],U=()=>Q(E()),q=Object.assign(d?x.then(U):$&&!K?Promise.resolve(D):Promise.all([K,x]).then(U),{arg:S,requestId:N,subscriptionOptions:g,queryCacheKey:P,abort:F,async unwrap(){const z=await q;if(z.isError)throw z.error;return z.data},refetch:()=>m(u(S,{subscribe:!1,forceRefetch:!0})),unsubscribe(){O&&m(b({queryCacheKey:P,requestId:N}))},updateSubscriptionOptions(z){q.subscriptionOptions=z,m(w({endpointName:c,requestId:N,queryCacheKey:P,options:z}))}});if(!K&&!$&&!d){const z=Ai(a,m,{});z[P]=q,q.then(()=>{delete z[P],_e(z)||a.delete(m)})}return q};return u}function R(c,s){return C(c,s)}function h(c,s){return C(c,s)}function M(c){return(s,{track:u=!0,fixedCacheKey:S}={})=>(O,I)=>{const g=r({type:"mutation",endpointName:c,originalArgs:s,track:u,fixedCacheKey:S}),d=O(g),{requestId:p,abort:m,unwrap:E}=d,P=Ti(d.unwrap().then(x=>({data:x})),x=>({error:x})),k=()=>{O(v({requestId:p,fixedCacheKey:S}))},T=Object.assign(P,{arg:d.arg,requestId:p,abort:m,unwrap:E,reset:k}),Q=y.get(O)||{};return y.set(O,Q),Q[p]=T,T.then(()=>{delete Q[p],_e(Q)||y.delete(O)}),S&&(Q[S]=T,T.then(()=>{Q[S]===T&&(delete Q[S],_e(Q)||y.delete(O))})),T}}}var Wn=class extends vi{constructor(e,t,n,r){super(e),this.value=t,this.schemaName=n,this._bqMeta=r}};async function pe(e,t,n,r){const i=await e["~standard"].validate(t);if(i.issues)throw new Wn(i.issues,t,n,r);return i.value}function Qi(e){return e}var Ae=(e={})=>({...e,[ot]:!0});function qi({reducerPath:e,baseQuery:t,context:{endpointDefinitions:n},serializeQueryArgs:r,api:i,assertTagType:o,selectors:a,onSchemaFailure:y,catchSchemaFailure:b,skipSchemaValidation:v}){const w=(p,m,E,P)=>(k,T)=>{const Q=n[p],x=r({queryArgs:m,endpointDefinition:Q,endpointName:p});if(k(i.internalActions.queryResultPatched({queryCacheKey:x,patches:E})),!P)return;const D=i.endpoints[p].select(m)(T()),N=Wt(Q.providesTags,D.data,void 0,m,{},o);k(i.internalActions.updateProvidedBy([{queryCacheKey:x,providedTags:N}]))};function A(p,m,E=0){const P=[m,...p];return E&&P.length>E?P.slice(0,-1):P}function f(p,m,E=0){const P=[...p,m];return E&&P.length>E?P.slice(1):P}const l=(p,m,E,P=!0)=>(k,T)=>{const x=i.endpoints[p].select(m)(T()),D={patches:[],inversePatches:[],undo:()=>k(i.util.patchQueryData(p,m,D.inversePatches,P))};if(x.status==="uninitialized")return D;let N;if("data"in x)if(ne(x.data)){const[F,$,K]=qn(x.data,E);D.patches.push(...$),D.inversePatches.push(...K),N=F}else N=E(x.data),D.patches.push({op:"replace",path:[],value:N}),D.inversePatches.push({op:"replace",path:[],value:x.data});return D.patches.length===0||k(i.util.patchQueryData(p,m,D.patches,P)),D},_=(p,m,E)=>P=>P(i.endpoints[p].initiate(m,{subscribe:!1,forceRefetch:!0,[xe]:()=>({data:E})})),C=(p,m)=>p.query&&p[m]?p[m]:Qi,R=async(p,{signal:m,abort:E,rejectWithValue:P,fulfillWithValue:k,dispatch:T,getState:Q,extra:x})=>{var $,K;const D=n[p.endpointName],{metaSchema:N,skipSchemaValidation:F=v}=D;try{let U=C(D,"transformResponse");const q={signal:m,abort:E,dispatch:T,getState:Q,extra:x,endpoint:p.endpointName,type:p.type,forced:p.type==="query"?h(p,Q()):void 0,queryCacheKey:p.type==="query"?p.queryCacheKey:void 0},W=p.type==="query"?p[xe]:void 0;let z;const G=async(V,L,J,ve)=>{if(L==null&&V.pages.length)return Promise.resolve({data:V});const re={queryArg:p.originalArgs,pageParam:L},Se=await oe(re),ie=ve?A:f;return{data:{pages:ie(V.pages,Se.data,J),pageParams:ie(V.pageParams,L,J)},meta:Se.meta}};async function oe(V){let L;const{extraOptions:J,argSchema:ve,rawResponseSchema:re,responseSchema:Se}=D;if(ve&&!F&&(V=await pe(ve,V,"argSchema",{})),W?L=W():D.query?L=await t(D.query(V),q,J):L=await D.queryFn(V,q,J,Re=>t(Re,q,J)),typeof process<"u",L.error)throw new hn(L.error,L.meta);let{data:ie}=L;re&&!F&&(ie=await pe(re,L.data,"rawResponseSchema",L.meta));let ae=await U(ie,L.meta,V);return Se&&!F&&(ae=await pe(Se,ae,"responseSchema",L.meta)),{...L,data:ae}}if(p.type==="query"&&"infiniteQueryOptions"in D){const{infiniteQueryOptions:V}=D,{maxPages:L=1/0}=V;let J;const ve={pages:[],pageParams:[]},re=($=a.selectQueryEntry(Q(),p.queryCacheKey))==null?void 0:$.data,ie=h(p,Q())&&!p.direction||!re?ve:re;if("direction"in p&&p.direction&&ie.pages.length){const ae=p.direction==="backward",lt=(ae?Vn:Qt)(V,ie,p.originalArgs);J=await G(ie,lt,L,ae)}else{const{initialPageParam:ae=V.initialPageParam}=p,Re=(re==null?void 0:re.pageParams)??[],lt=Re[0]??ae,Zn=Re.length;J=await G(ie,lt,L),W&&(J={data:J.data.pages[0]});for(let Vt=1;Vt<Zn;Vt++){const er=Qt(V,J.data,p.originalArgs);J=await G(J.data,er,L)}}z=J}else z=await oe(p.originalArgs);return N&&!F&&z.meta&&(z.meta=await pe(N,z.meta,"metaSchema",z.meta)),k(z.data,Ae({fulfilledTimeStamp:Date.now(),baseQueryMeta:z.meta}))}catch(U){let q=U;if(q instanceof hn){let W=C(D,"transformErrorResponse");const{rawErrorResponseSchema:z,errorResponseSchema:G}=D;let{value:oe,meta:V}=q;try{z&&!F&&(oe=await pe(z,oe,"rawErrorResponseSchema",V)),N&&!F&&(V=await pe(N,V,"metaSchema",V));let L=await W(oe,V,p.originalArgs);return G&&!F&&(L=await pe(G,L,"errorResponseSchema",V)),P(L,Ae({baseQueryMeta:V}))}catch(L){q=L}}try{if(q instanceof Wn){const W={endpoint:p.endpointName,arg:p.originalArgs,type:p.type,queryCacheKey:p.type==="query"?p.queryCacheKey:void 0};(K=D.onSchemaFailure)==null||K.call(D,q,W),y==null||y(q,W);const{catchSchemaFailure:z=b}=D;if(z)return P(z(q,W),Ae({baseQueryMeta:q._bqMeta}))}}catch(W){q=W}throw console.error(q),q}};function h(p,m){const E=a.selectQueryEntry(m,p.queryCacheKey),P=a.selectConfig(m).refetchOnMountOrArgChange,k=E==null?void 0:E.fulfilledTimeStamp,T=p.forceRefetch??(p.subscribe&&P);return T?T===!0||(Number(new Date)-Number(k))/1e3>=T:!1}const M=()=>an(`${e}/executeQuery`,R,{getPendingMeta({arg:m}){const E=n[m.endpointName];return Ae({startedTimeStamp:Date.now(),...ft(E)?{direction:m.direction}:{}})},condition(m,{getState:E}){var F;const P=E(),k=a.selectQueryEntry(P,m.queryCacheKey),T=k==null?void 0:k.fulfilledTimeStamp,Q=m.originalArgs,x=k==null?void 0:k.originalArgs,D=n[m.endpointName],N=m.direction;return Dt(m)?!0:(k==null?void 0:k.status)==="pending"?!1:h(m,P)||at(D)&&((F=D==null?void 0:D.forceRefetch)!=null&&F.call(D,{currentArg:Q,previousArg:x,endpointState:k,state:P}))?!0:!(T&&!N)},dispatchConditionRejection:!0}),c=M(),s=M(),u=an(`${e}/executeMutation`,R,{getPendingMeta(){return Ae({startedTimeStamp:Date.now()})}}),S=p=>"force"in p,O=p=>"ifOlderThan"in p,I=(p,m,E)=>(P,k)=>{const T=S(E)&&E.force,Q=O(E)&&E.ifOlderThan,x=(N=!0)=>{const F={forceRefetch:N,isPrefetch:!0};return i.endpoints[p].initiate(m,F)},D=i.endpoints[p].select(m)(k());if(T)P(x());else if(Q){const N=D==null?void 0:D.fulfilledTimeStamp;if(!N){P(x());return}(Number(new Date)-Number(new Date(N)))/1e3>=Q&&P(x())}else P(x(!1))};function g(p){return m=>{var E,P;return((P=(E=m==null?void 0:m.meta)==null?void 0:E.arg)==null?void 0:P.endpointName)===p}}function d(p,m){return{matchPending:ke(zt(p),g(m)),matchFulfilled:ke(de(p),g(m)),matchRejected:ke(Ee(p),g(m))}}return{queryThunk:c,mutationThunk:u,infiniteQueryThunk:s,prefetch:I,updateQueryData:l,upsertQueryData:_,patchQueryData:w,buildMatchThunkActions:d}}function Qt(e,{pages:t,pageParams:n},r){const i=t.length-1;return e.getNextPageParam(t[i],t,n[i],n,r)}function Vn(e,{pages:t,pageParams:n},r){var i;return(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n,r)}function Kn(e,t,n,r){return Wt(n[e.meta.arg.endpointName][t],de(e)?e.payload:void 0,ct(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function Ke(e,t,n){const r=e[t];r&&n(r)}function je(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function gn(e,t,n){const r=e[je(t)];r&&n(r)}var Be={};function xi({reducerPath:e,queryThunk:t,mutationThunk:n,serializeQueryArgs:r,context:{endpointDefinitions:i,apiUid:o,extractRehydrationInfo:a,hasRehydrationInfo:y},assertTagType:b,config:v}){const w=ee(`${e}/resetApiState`);function A(g,d,p,m){var E;g[E=d.queryCacheKey]??(g[E]={status:"uninitialized",endpointName:d.endpointName}),Ke(g,d.queryCacheKey,P=>{P.status="pending",P.requestId=p&&P.requestId?P.requestId:m.requestId,d.originalArgs!==void 0&&(P.originalArgs=d.originalArgs),P.startedTimeStamp=m.startedTimeStamp;const k=i[m.arg.endpointName];ft(k)&&"direction"in d&&(P.direction=d.direction)})}function f(g,d,p,m){Ke(g,d.arg.queryCacheKey,E=>{if(E.requestId!==d.requestId&&!m)return;const{merge:P}=i[d.arg.endpointName];if(E.status="fulfilled",P)if(E.data!==void 0){const{fulfilledTimeStamp:k,arg:T,baseQueryMeta:Q,requestId:x}=d;let D=ze(E.data,N=>P(N,p,{arg:T.originalArgs,baseQueryMeta:Q,fulfilledTimeStamp:k,requestId:x}));E.data=D}else E.data=p;else E.data=i[d.arg.endpointName].structuralSharing??!0?Un(se(E.data)?Or(E.data):E.data,p):p;delete E.error,E.fulfilledTimeStamp=d.fulfilledTimeStamp})}const l=he({name:`${e}/queries`,initialState:Be,reducers:{removeQueryResult:{reducer(g,{payload:{queryCacheKey:d}}){delete g[d]},prepare:Pe()},cacheEntriesUpserted:{reducer(g,d){for(const p of d.payload){const{queryDescription:m,value:E}=p;A(g,m,!0,{arg:m,requestId:d.meta.requestId,startedTimeStamp:d.meta.timestamp}),f(g,{arg:m,requestId:d.meta.requestId,fulfilledTimeStamp:d.meta.timestamp,baseQueryMeta:{}},E,!0)}},prepare:g=>({payload:g.map(m=>{const{endpointName:E,arg:P,value:k}=m,T=i[E];return{queryDescription:{type:"query",endpointName:E,originalArgs:m.arg,queryCacheKey:r({queryArgs:P,endpointDefinition:T,endpointName:E})},value:k}}),meta:{[ot]:!0,requestId:Ut(),timestamp:Date.now()}})},queryResultPatched:{reducer(g,{payload:{queryCacheKey:d,patches:p}}){Ke(g,d,m=>{m.data=tn(m.data,p.concat())})},prepare:Pe()}},extraReducers(g){g.addCase(t.pending,(d,{meta:p,meta:{arg:m}})=>{const E=Dt(m);A(d,m,E,p)}).addCase(t.fulfilled,(d,{meta:p,payload:m})=>{const E=Dt(p.arg);f(d,p,m,E)}).addCase(t.rejected,(d,{meta:{condition:p,arg:m,requestId:E},error:P,payload:k})=>{Ke(d,m.queryCacheKey,T=>{if(!p){if(T.requestId!==E)return;T.status="rejected",T.error=k??P}})}).addMatcher(y,(d,p)=>{const{queries:m}=a(p);for(const[E,P]of Object.entries(m))((P==null?void 0:P.status)==="fulfilled"||(P==null?void 0:P.status)==="rejected")&&(d[E]=P)})}}),_=he({name:`${e}/mutations`,initialState:Be,reducers:{removeMutationResult:{reducer(g,{payload:d}){const p=je(d);p in g&&delete g[p]},prepare:Pe()}},extraReducers(g){g.addCase(n.pending,(d,{meta:p,meta:{requestId:m,arg:E,startedTimeStamp:P}})=>{E.track&&(d[je(p)]={requestId:m,status:"pending",endpointName:E.endpointName,startedTimeStamp:P})}).addCase(n.fulfilled,(d,{payload:p,meta:m})=>{m.arg.track&&gn(d,m,E=>{E.requestId===m.requestId&&(E.status="fulfilled",E.data=p,E.fulfilledTimeStamp=m.fulfilledTimeStamp)})}).addCase(n.rejected,(d,{payload:p,error:m,meta:E})=>{E.arg.track&&gn(d,E,P=>{P.requestId===E.requestId&&(P.status="rejected",P.error=p??m)})}).addMatcher(y,(d,p)=>{const{mutations:m}=a(p);for(const[E,P]of Object.entries(m))((P==null?void 0:P.status)==="fulfilled"||(P==null?void 0:P.status)==="rejected")&&E!==(P==null?void 0:P.requestId)&&(d[E]=P)})}}),C={tags:{},keys:{}},R=he({name:`${e}/invalidation`,initialState:C,reducers:{updateProvidedBy:{reducer(g,d){var p,m,E;for(const{queryCacheKey:P,providedTags:k}of d.payload){h(g,P);for(const{type:T,id:Q}of k){const x=(m=(p=g.tags)[T]??(p[T]={}))[E=Q||"__internal_without_id"]??(m[E]=[]);x.includes(P)||x.push(P)}g.keys[P]=k}},prepare:Pe()}},extraReducers(g){g.addCase(l.actions.removeQueryResult,(d,{payload:{queryCacheKey:p}})=>{h(d,p)}).addMatcher(y,(d,p)=>{var E,P,k;const{provided:m}=a(p);for(const[T,Q]of Object.entries(m))for(const[x,D]of Object.entries(Q)){const N=(P=(E=d.tags)[T]??(E[T]={}))[k=x||"__internal_without_id"]??(P[k]=[]);for(const F of D)N.includes(F)||N.push(F)}}).addMatcher(ce(de(t),ct(t)),(d,p)=>{M(d,[p])}).addMatcher(l.actions.cacheEntriesUpserted.match,(d,p)=>{const m=p.payload.map(({queryDescription:E,value:P})=>({type:"UNKNOWN",payload:P,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:E}}));M(d,m)})}});function h(g,d){var m;const p=g.keys[d]??[];for(const E of p){const P=E.type,k=E.id??"__internal_without_id",T=(m=g.tags[P])==null?void 0:m[k];T&&(g.tags[P][k]=T.filter(Q=>Q!==d))}delete g.keys[d]}function M(g,d){const p=d.map(m=>{const E=Kn(m,"providesTags",i,b),{queryCacheKey:P}=m.meta.arg;return{queryCacheKey:P,providedTags:E}});R.caseReducers.updateProvidedBy(g,R.actions.updateProvidedBy(p))}const c=he({name:`${e}/subscriptions`,initialState:Be,reducers:{updateSubscriptionOptions(g,d){},unsubscribeQueryResult(g,d){},internal_getRTKQSubscriptions(){}}}),s=he({name:`${e}/internalSubscriptions`,initialState:Be,reducers:{subscriptionsUpdated:{reducer(g,d){return tn(g,d.payload)},prepare:Pe()}}}),u=he({name:`${e}/config`,initialState:{online:_i(),focused:wi(),middlewareRegistered:!1,...v},reducers:{middlewareRegistered(g,{payload:d}){g.middlewareRegistered=g.middlewareRegistered==="conflict"||o!==d?"conflict":!0}},extraReducers:g=>{g.addCase(Lt,d=>{d.online=!0}).addCase(Ln,d=>{d.online=!1}).addCase($t,d=>{d.focused=!0}).addCase($n,d=>{d.focused=!1}).addMatcher(y,d=>({...d}))}}),S=On({queries:l.reducer,mutations:_.reducer,provided:R.reducer,subscriptions:s.reducer,config:u.reducer}),O=(g,d)=>S(w.match(d)?void 0:g,d),I={...u.actions,...l.actions,...c.actions,...s.actions,..._.actions,...R.actions,resetApiState:w};return{reducer:O,actions:I}}var Z=Symbol.for("RTKQ/skipToken"),Bn={status:"uninitialized"},mn=ze(Bn,()=>{}),bn=ze(Bn,()=>{});function ji({serializeQueryArgs:e,reducerPath:t,createSelector:n}){const r=c=>mn,i=c=>bn;return{buildQuerySelector:f,buildInfiniteQuerySelector:l,buildMutationSelector:_,selectInvalidatedBy:C,selectCachedArgsForQuery:R,selectApiState:a,selectQueries:y,selectMutations:v,selectQueryEntry:b,selectConfig:w};function o(c){return{...c,...fn(c.status)}}function a(c){return c[t]}function y(c){var s;return(s=a(c))==null?void 0:s.queries}function b(c,s){var u;return(u=y(c))==null?void 0:u[s]}function v(c){var s;return(s=a(c))==null?void 0:s.mutations}function w(c){var s;return(s=a(c))==null?void 0:s.config}function A(c,s,u){return S=>{if(S===Z)return n(r,u);const O=e({queryArgs:S,endpointDefinition:s,endpointName:c});return n(g=>b(g,O)??mn,u)}}function f(c,s){return A(c,s,o)}function l(c,s){const{infiniteQueryOptions:u}=s;function S(O){const I={...O,...fn(O.status)},{isLoading:g,isError:d,direction:p}=I,m=p==="forward",E=p==="backward";return{...I,hasNextPage:h(u,I.data,I.originalArgs),hasPreviousPage:M(u,I.data,I.originalArgs),isFetchingNextPage:g&&m,isFetchingPreviousPage:g&&E,isFetchNextPageError:d&&m,isFetchPreviousPageError:d&&E}}return A(c,s,S)}function _(){return c=>{let s;return typeof c=="object"?s=je(c)??Z:s=c,n(s===Z?i:O=>{var I,g;return((g=(I=a(O))==null?void 0:I.mutations)==null?void 0:g[s])??bn},o)}}function C(c,s){const u=c[t],S=new Set;for(const O of s.filter(nt).map(Tt)){const I=u.provided.tags[O.type];if(!I)continue;let g=(O.id!==void 0?I[O.id]:dn(Object.values(I)))??[];for(const d of g)S.add(d)}return dn(Array.from(S.values()).map(O=>{const I=u.queries[O];return I?[{queryCacheKey:O,endpointName:I.endpointName,originalArgs:I.originalArgs}]:[]}))}function R(c,s){return Object.values(y(c)).filter(u=>(u==null?void 0:u.endpointName)===s&&u.status!=="uninitialized").map(u=>u.originalArgs)}function h(c,s,u){return s?Qt(c,s,u)!=null:!1}function M(c,s,u){return!s||!c.getPreviousPageParam?!1:Vn(c,s,u)!=null}}var we=WeakMap?new WeakMap:void 0,it=({endpointName:e,queryArgs:t})=>{let n="";const r=we==null?void 0:we.get(t);if(typeof r=="string")n=r;else{const i=JSON.stringify(t,(o,a)=>(a=typeof a=="bigint"?{$bigint:a.toString()}:a,a=le(a)?Object.keys(a).sort().reduce((y,b)=>(y[b]=a[b],y),{}):a,a));le(t)&&(we==null||we.set(t,i)),n=i}return`${e}(${n})`};function Hn(...e){return function(n){const r=tt(v=>{var w;return(w=n.extractRehydrationInfo)==null?void 0:w.call(n,v,{reducerPath:n.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:r,serializeQueryArgs(v){let w=it;if("serializeQueryArgs"in v.endpointDefinition){const A=v.endpointDefinition.serializeQueryArgs;w=f=>{const l=A(f);return typeof l=="string"?l:it({...f,queryArgs:l})}}else n.serializeQueryArgs&&(w=n.serializeQueryArgs);return w(v)},tagTypes:[...n.tagTypes||[]]},o={endpointDefinitions:{},batch(v){v()},apiUid:Ut(),extractRehydrationInfo:r,hasRehydrationInfo:tt(v=>r(v)!=null)},a={injectEndpoints:b,enhanceEndpoints({addTagTypes:v,endpoints:w}){if(v)for(const A of v)i.tagTypes.includes(A)||i.tagTypes.push(A);if(w)for(const[A,f]of Object.entries(w))typeof f=="function"?f(o.endpointDefinitions[A]):Object.assign(o.endpointDefinitions[A]||{},f);return a}},y=e.map(v=>v.init(a,i,o));function b(v){const w=v.endpoints({query:A=>({...A,type:"query"}),mutation:A=>({...A,type:"mutation"}),infiniteQuery:A=>({...A,type:"infinitequery"})});for(const[A,f]of Object.entries(w)){if(v.overrideExisting!==!0&&A in o.endpointDefinitions){if(v.overrideExisting==="throw")throw new Error(te(39));continue}o.endpointDefinitions[A]=f;for(const l of y)l.injectEndpoint(A,f)}return a}return a.injectEndpoints({endpoints:n.endpoints})}}function ue(e,...t){return Object.assign(e,...t)}var Ni=({api:e,queryThunk:t,internalState:n})=>{const r=`${e.reducerPath}/subscriptions`;let i=null,o=null;const{updateSubscriptionOptions:a,unsubscribeQueryResult:y}=e.internalActions,b=(l,_)=>{var R,h,M;if(a.match(_)){const{queryCacheKey:c,requestId:s,options:u}=_.payload;return(R=l==null?void 0:l[c])!=null&&R[s]&&(l[c][s]=u),!0}if(y.match(_)){const{queryCacheKey:c,requestId:s}=_.payload;return l[c]&&delete l[c][s],!0}if(e.internalActions.removeQueryResult.match(_))return delete l[_.payload.queryCacheKey],!0;if(t.pending.match(_)){const{meta:{arg:c,requestId:s}}=_,u=l[h=c.queryCacheKey]??(l[h]={});return u[`${s}_running`]={},c.subscribe&&(u[s]=c.subscriptionOptions??u[s]??{}),!0}let C=!1;if(t.fulfilled.match(_)||t.rejected.match(_)){const c=l[_.meta.arg.queryCacheKey]||{},s=`${_.meta.requestId}_running`;C||(C=!!c[s]),delete c[s]}if(t.rejected.match(_)){const{meta:{condition:c,arg:s,requestId:u}}=_;if(c&&s.subscribe){const S=l[M=s.queryCacheKey]??(l[M]={});S[u]=s.subscriptionOptions??S[u]??{},C=!0}}return C},v=()=>n.currentSubscriptions,f={getSubscriptions:v,getSubscriptionCount:l=>{const C=v()[l]??{};return _e(C)},isRequestSubscribed:(l,_)=>{var R;const C=v();return!!((R=C==null?void 0:C[l])!=null&&R[_])}};return(l,_)=>{if(i||(i=JSON.parse(JSON.stringify(n.currentSubscriptions))),e.util.resetApiState.match(l))return i=n.currentSubscriptions={},o=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(l))return[!1,f];const C=b(n.currentSubscriptions,l);let R=!0;if(C){o||(o=setTimeout(()=>{const c=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,s]=qn(i,()=>c);_.next(e.internalActions.subscriptionsUpdated(s)),i=c,o=null},500));const h=typeof l.type=="string"&&!!l.type.startsWith(r),M=t.rejected.match(l)&&l.meta.condition&&!!l.meta.arg.subscribe;R=!h&&!M}return[R,!1]}};function Fi(e){for(const t in e)return!1;return!0}var zi=2147483647/1e3-1,Ui=({reducerPath:e,api:t,queryThunk:n,context:r,internalState:i,selectors:{selectQueryEntry:o,selectConfig:a}})=>{const{removeQueryResult:y,unsubscribeQueryResult:b,cacheEntriesUpserted:v}=t.internalActions,w=ce(b.match,n.fulfilled,n.rejected,v.match);function A(R){const h=i.currentSubscriptions[R];return!!h&&!Fi(h)}const f={},l=(R,h,M)=>{const c=h.getState(),s=a(c);if(w(R)){let u;if(v.match(R))u=R.payload.map(S=>S.queryDescription.queryCacheKey);else{const{queryCacheKey:S}=b.match(R)?R.payload:R.meta.arg;u=[S]}_(u,h,s)}if(t.util.resetApiState.match(R))for(const[u,S]of Object.entries(f))S&&clearTimeout(S),delete f[u];if(r.hasRehydrationInfo(R)){const{queries:u}=r.extractRehydrationInfo(R);_(Object.keys(u),h,s)}};function _(R,h,M){const c=h.getState();for(const s of R){const u=o(c,s);C(s,u==null?void 0:u.endpointName,h,M)}}function C(R,h,M,c){const s=r.endpointDefinitions[h],u=(s==null?void 0:s.keepUnusedDataFor)??c.keepUnusedDataFor;if(u===1/0)return;const S=Math.max(0,Math.min(u,zi));if(!A(R)){const O=f[R];O&&clearTimeout(O),f[R]=setTimeout(()=>{A(R)||M.dispatch(y({queryCacheKey:R})),delete f[R]},S*1e3)}}return l},vn=new Error("Promise never resolved before cacheEntryRemoved."),$i=({api:e,reducerPath:t,context:n,queryThunk:r,mutationThunk:i,internalState:o,selectors:{selectQueryEntry:a,selectApiState:y}})=>{const b=kt(r),v=kt(i),w=de(r,i),A={};function f(h,M,c){const s=A[h];s!=null&&s.valueResolved&&(s.valueResolved({data:M,meta:c}),delete s.valueResolved)}function l(h){const M=A[h];M&&(delete A[h],M.cacheEntryRemoved())}const _=(h,M,c)=>{const s=C(h);function u(S,O,I,g){const d=a(c,O),p=a(M.getState(),O);!d&&p&&R(S,g,O,M,I)}if(r.pending.match(h))u(h.meta.arg.endpointName,s,h.meta.requestId,h.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(h))for(const{queryDescription:S,value:O}of h.payload){const{endpointName:I,originalArgs:g,queryCacheKey:d}=S;u(I,d,h.meta.requestId,g),f(d,O,{})}else if(i.pending.match(h))M.getState()[t].mutations[s]&&R(h.meta.arg.endpointName,h.meta.arg.originalArgs,s,M,h.meta.requestId);else if(w(h))f(s,h.payload,h.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(h)||e.internalActions.removeMutationResult.match(h))l(s);else if(e.util.resetApiState.match(h))for(const S of Object.keys(A))l(S)};function C(h){return b(h)?h.meta.arg.queryCacheKey:v(h)?h.meta.arg.fixedCacheKey??h.meta.requestId:e.internalActions.removeQueryResult.match(h)?h.payload.queryCacheKey:e.internalActions.removeMutationResult.match(h)?je(h.payload):""}function R(h,M,c,s,u){const S=n.endpointDefinitions[h],O=S==null?void 0:S.onCacheEntryAdded;if(!O)return;const I={},g=new Promise(k=>{I.cacheEntryRemoved=k}),d=Promise.race([new Promise(k=>{I.valueResolved=k}),g.then(()=>{throw vn})]);d.catch(()=>{}),A[c]=I;const p=e.endpoints[h].select(rt(S)?M:c),m=s.dispatch((k,T,Q)=>Q),E={...s,getCacheEntry:()=>p(s.getState()),requestId:u,extra:m,updateCachedData:rt(S)?k=>s.dispatch(e.util.updateQueryData(h,M,k)):void 0,cacheDataLoaded:d,cacheEntryRemoved:g},P=O(M,E);Promise.resolve(P).catch(k=>{if(k!==vn)throw k})}return _},Li=({api:e,context:{apiUid:t},reducerPath:n})=>(r,i)=>{e.util.resetApiState.match(r)&&i.dispatch(e.internalActions.middlewareRegistered(t))},Wi=({reducerPath:e,context:t,context:{endpointDefinitions:n},mutationThunk:r,queryThunk:i,api:o,assertTagType:a,refetchQuery:y,internalState:b})=>{const{removeQueryResult:v}=o.internalActions,w=ce(de(r),ct(r)),A=ce(de(r,i),Ee(r,i));let f=[];const l=(R,h)=>{w(R)?C(Kn(R,"invalidatesTags",n,a),h):A(R)?C([],h):o.util.invalidateTags.match(R)&&C(Wt(R.payload,void 0,void 0,void 0,void 0,a),h)};function _(R){var c;const{queries:h,mutations:M}=R;for(const s of[h,M])for(const u in s)if(((c=s[u])==null?void 0:c.status)==="pending")return!0;return!1}function C(R,h){const M=h.getState(),c=M[e];if(f.push(...R),c.config.invalidationBehavior==="delayed"&&_(c))return;const s=f;if(f=[],s.length===0)return;const u=o.util.selectInvalidatedBy(M,s);t.batch(()=>{const S=Array.from(u.values());for(const{queryCacheKey:O}of S){const I=c.queries[O],g=b.currentSubscriptions[O]??{};I&&(_e(g)===0?h.dispatch(v({queryCacheKey:O})):I.status!=="uninitialized"&&h.dispatch(y(I)))}})}return l},Vi=({reducerPath:e,queryThunk:t,api:n,refetchQuery:r,internalState:i})=>{const o={},a=(f,l)=>{(n.internalActions.updateSubscriptionOptions.match(f)||n.internalActions.unsubscribeQueryResult.match(f))&&b(f.payload,l),(t.pending.match(f)||t.rejected.match(f)&&f.meta.condition)&&b(f.meta.arg,l),(t.fulfilled.match(f)||t.rejected.match(f)&&!f.meta.condition)&&y(f.meta.arg,l),n.util.resetApiState.match(f)&&w()};function y({queryCacheKey:f},l){const _=l.getState()[e],C=_.queries[f],R=i.currentSubscriptions[f];if(!C||C.status==="uninitialized")return;const{lowestPollingInterval:h,skipPollingIfUnfocused:M}=A(R);if(!Number.isFinite(h))return;const c=o[f];c!=null&&c.timeout&&(clearTimeout(c.timeout),c.timeout=void 0);const s=Date.now()+h;o[f]={nextPollTimestamp:s,pollingInterval:h,timeout:setTimeout(()=>{(_.config.focused||!M)&&l.dispatch(r(C)),y({queryCacheKey:f},l)},h)}}function b({queryCacheKey:f},l){const C=l.getState()[e].queries[f],R=i.currentSubscriptions[f];if(!C||C.status==="uninitialized")return;const{lowestPollingInterval:h}=A(R);if(!Number.isFinite(h)){v(f);return}const M=o[f],c=Date.now()+h;(!M||c<M.nextPollTimestamp)&&y({queryCacheKey:f},l)}function v(f){const l=o[f];l!=null&&l.timeout&&clearTimeout(l.timeout),delete o[f]}function w(){for(const f of Object.keys(o))v(f)}function A(f={}){let l=!1,_=Number.POSITIVE_INFINITY;for(let C in f)f[C].pollingInterval&&(_=Math.min(f[C].pollingInterval,_),l=f[C].skipPollingIfUnfocused||l);return{lowestPollingInterval:_,skipPollingIfUnfocused:l}}return a},Ki=({api:e,context:t,queryThunk:n,mutationThunk:r})=>{const i=zt(n,r),o=Ee(n,r),a=de(n,r),y={};return(v,w)=>{var A,f;if(i(v)){const{requestId:l,arg:{endpointName:_,originalArgs:C}}=v.meta,R=t.endpointDefinitions[_],h=R==null?void 0:R.onQueryStarted;if(h){const M={},c=new Promise((O,I)=>{M.resolve=O,M.reject=I});c.catch(()=>{}),y[l]=M;const s=e.endpoints[_].select(rt(R)?C:l),u=w.dispatch((O,I,g)=>g),S={...w,getCacheEntry:()=>s(w.getState()),requestId:l,extra:u,updateCachedData:rt(R)?O=>w.dispatch(e.util.updateQueryData(_,C,O)):void 0,queryFulfilled:c};h(C,S)}}else if(a(v)){const{requestId:l,baseQueryMeta:_}=v.meta;(A=y[l])==null||A.resolve({data:v.payload,meta:_}),delete y[l]}else if(o(v)){const{requestId:l,rejectedWithValue:_,baseQueryMeta:C}=v.meta;(f=y[l])==null||f.reject({error:v.payload??v.error,isUnhandledError:!_,meta:C}),delete y[l]}}},Bi=({reducerPath:e,context:t,api:n,refetchQuery:r,internalState:i})=>{const{removeQueryResult:o}=n.internalActions,a=(b,v)=>{$t.match(b)&&y(v,"refetchOnFocus"),Lt.match(b)&&y(v,"refetchOnReconnect")};function y(b,v){const w=b.getState()[e],A=w.queries,f=i.currentSubscriptions;t.batch(()=>{for(const l of Object.keys(f)){const _=A[l],C=f[l];if(!C||!_)continue;(Object.values(C).some(h=>h[v]===!0)||Object.values(C).every(h=>h[v]===void 0)&&w.config[v])&&(_e(C)===0?b.dispatch(o({queryCacheKey:l})):_.status!=="uninitialized"&&b.dispatch(r(_)))}})}return a};function Hi(e){const{reducerPath:t,queryThunk:n,api:r,context:i}=e,{apiUid:o}=i,a={invalidateTags:ee(`${t}/invalidateTags`)},y=A=>A.type.startsWith(`${t}/`),b=[Li,Ui,Wi,Vi,$i,Ki];return{middleware:A=>{let f=!1;const _={...e,internalState:{currentSubscriptions:{}},refetchQuery:w,isThisApiSliceAction:y},C=b.map(M=>M(_)),R=Ni(_),h=Bi(_);return M=>c=>{if(!Mn(c))return M(c);f||(f=!0,A.dispatch(r.internalActions.middlewareRegistered(o)));const s={...A,next:M},u=A.getState(),[S,O]=R(c,s,u);let I;if(S?I=M(c):I=O,A.getState()[t]&&(h(c,s,u),y(c)||i.hasRehydrationInfo(c)))for(const g of C)g(c,s,u);return I}},actions:a};function w(A){return e.api.endpoints[A.endpointName].initiate(A.originalArgs,{subscribe:!1,forceRefetch:!0})}}var Sn=Symbol(),Jn=({createSelector:e=Ft}={})=>({name:Sn,init(t,{baseQuery:n,tagTypes:r,reducerPath:i,serializeQueryArgs:o,keepUnusedDataFor:a,refetchOnMountOrArgChange:y,refetchOnFocus:b,refetchOnReconnect:v,invalidationBehavior:w,onSchemaFailure:A,catchSchemaFailure:f,skipSchemaValidation:l},_){Nr();const C=q=>q;Object.assign(t,{reducerPath:i,endpoints:{},internalActions:{onOnline:Lt,onOffline:Ln,onFocus:$t,onFocusLost:$n},util:{}});const R=ji({serializeQueryArgs:o,reducerPath:i,createSelector:e}),{selectInvalidatedBy:h,selectCachedArgsForQuery:M,buildQuerySelector:c,buildInfiniteQuerySelector:s,buildMutationSelector:u}=R;ue(t.util,{selectInvalidatedBy:h,selectCachedArgsForQuery:M});const{queryThunk:S,infiniteQueryThunk:O,mutationThunk:I,patchQueryData:g,updateQueryData:d,upsertQueryData:p,prefetch:m,buildMatchThunkActions:E}=qi({baseQuery:n,reducerPath:i,context:_,api:t,serializeQueryArgs:o,assertTagType:C,selectors:R,onSchemaFailure:A,catchSchemaFailure:f,skipSchemaValidation:l}),{reducer:P,actions:k}=xi({context:_,queryThunk:S,mutationThunk:I,serializeQueryArgs:o,reducerPath:i,assertTagType:C,config:{refetchOnFocus:b,refetchOnReconnect:v,refetchOnMountOrArgChange:y,keepUnusedDataFor:a,reducerPath:i,invalidationBehavior:w}});ue(t.util,{patchQueryData:g,updateQueryData:d,upsertQueryData:p,prefetch:m,resetApiState:k.resetApiState,upsertQueryEntries:k.cacheEntriesUpserted}),ue(t.internalActions,k);const{middleware:T,actions:Q}=Hi({reducerPath:i,context:_,queryThunk:S,mutationThunk:I,infiniteQueryThunk:O,api:t,assertTagType:C,selectors:R});ue(t.util,Q),ue(t,{reducer:P,middleware:T});const{buildInitiateQuery:x,buildInitiateInfiniteQuery:D,buildInitiateMutation:N,getRunningMutationThunk:F,getRunningMutationsThunk:$,getRunningQueriesThunk:K,getRunningQueryThunk:U}=Di({queryThunk:S,mutationThunk:I,infiniteQueryThunk:O,api:t,serializeQueryArgs:o,context:_});return ue(t.util,{getRunningMutationThunk:F,getRunningMutationsThunk:$,getRunningQueryThunk:U,getRunningQueriesThunk:K}),{name:Sn,injectEndpoint(q,W){var oe;const G=(oe=t.endpoints)[q]??(oe[q]={});at(W)&&ue(G,{name:q,select:c(q,W),initiate:x(q,W)},E(S,q)),Ii(W)&&ue(G,{name:q,select:u(),initiate:N(q)},E(I,q)),ft(W)&&ue(G,{name:q,select:s(q,W),initiate:D(q,W)},E(S,q))}}}});Jn();function He(e){return e.replace(e[0],e[0].toUpperCase())}function Ji(e){return e.type==="query"}function Gi(e){return e.type==="mutation"}function Gn(e){return e.type==="infinitequery"}function Ce(e,...t){return Object.assign(e,...t)}var wt=Symbol();function _t(e,t,n,r){const i=j.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:n,endpointName:r}):e}),[e,t,n,r]),o=j.useRef(i);return j.useEffect(()=>{o.current.serialized!==i.serialized&&(o.current=i)},[i]),o.current.serialized===i.serialized?o.current.queryArgs:e}function Je(e){const t=j.useRef(e);return j.useEffect(()=>{Me(t.current,e)||(t.current=e)},[e]),Me(t.current,e)?t.current:e}var Xi=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yi=Xi(),Zi=()=>typeof navigator<"u"&&navigator.product==="ReactNative",es=Zi(),ts=()=>Yi||es?j.useLayoutEffect:j.useEffect,ns=ts(),wn=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:zn.pending}:e;function Et(e,...t){const n={};return t.forEach(r=>{n[r]=e[r]}),n}var Rt=["data","status","isLoading","isSuccess","isError","error"];function rs({api:e,moduleOptions:{batch:t,hooks:{useDispatch:n,useSelector:r,useStore:i},unstable__sideEffectsInRender:o,createSelector:a},serializeQueryArgs:y,context:b}){const v=o?s=>s():j.useEffect;return{buildQueryHooks:h,buildInfiniteQueryHooks:M,buildMutationHook:c,usePrefetch:f};function w(s,u,S){if(u!=null&&u.endpointName&&s.isUninitialized){const{endpointName:m}=u,E=b.endpointDefinitions[m];S!==Z&&y({queryArgs:u.originalArgs,endpointDefinition:E,endpointName:m})===y({queryArgs:S,endpointDefinition:E,endpointName:m})&&(u=void 0)}let O=s.isSuccess?s.data:u==null?void 0:u.data;O===void 0&&(O=s.data);const I=O!==void 0,g=s.isLoading,d=(!u||u.isLoading||u.isUninitialized)&&!I&&g,p=s.isSuccess||I&&(g&&!(u!=null&&u.isError)||s.isUninitialized);return{...s,data:O,currentData:s.data,isFetching:g,isLoading:d,isSuccess:p}}function A(s,u,S){if(u!=null&&u.endpointName&&s.isUninitialized){const{endpointName:m}=u,E=b.endpointDefinitions[m];S!==Z&&y({queryArgs:u.originalArgs,endpointDefinition:E,endpointName:m})===y({queryArgs:S,endpointDefinition:E,endpointName:m})&&(u=void 0)}let O=s.isSuccess?s.data:u==null?void 0:u.data;O===void 0&&(O=s.data);const I=O!==void 0,g=s.isLoading,d=(!u||u.isLoading||u.isUninitialized)&&!I&&g,p=s.isSuccess||g&&I;return{...s,data:O,currentData:s.data,isFetching:g,isLoading:d,isSuccess:p}}function f(s,u){const S=n(),O=Je(u);return j.useCallback((I,g)=>S(e.util.prefetch(s,I,{...O,...g})),[s,S,O])}function l(s,u,{refetchOnReconnect:S,refetchOnFocus:O,refetchOnMountOrArgChange:I,skip:g=!1,pollingInterval:d=0,skipPollingIfUnfocused:p=!1,...m}={}){const{initiate:E}=e.endpoints[s],P=n(),k=j.useRef(void 0);if(!k.current){const q=P(e.internalActions.internal_getRTKQSubscriptions());k.current=q}const T=_t(g?Z:u,it,b.endpointDefinitions[s],s),Q=Je({refetchOnReconnect:S,refetchOnFocus:O,pollingInterval:d,skipPollingIfUnfocused:p}),x=m.initialPageParam,D=Je(x),N=j.useRef(void 0);let{queryCacheKey:F,requestId:$}=N.current||{},K=!1;F&&$&&(K=k.current.isRequestSubscribed(F,$));const U=!K&&N.current!==void 0;return v(()=>{U&&(N.current=void 0)},[U]),v(()=>{var z;const q=N.current;if(T===Z){q==null||q.unsubscribe(),N.current=void 0;return}const W=(z=N.current)==null?void 0:z.subscriptionOptions;if(!q||q.arg!==T){q==null||q.unsubscribe();const G=P(E(T,{subscriptionOptions:Q,forceRefetch:I,...Gn(b.endpointDefinitions[s])?{initialPageParam:D}:{}}));N.current=G}else Q!==W&&q.updateSubscriptionOptions(Q)},[P,E,I,T,Q,U,D,s]),[N,P,E,Q]}function _(s,u){return(O,{skip:I=!1,selectFromResult:g}={})=>{const{select:d}=e.endpoints[s],p=_t(I?Z:O,y,b.endpointDefinitions[s],s),m=j.useRef(void 0),E=j.useMemo(()=>a([d(p),(x,D)=>D,x=>p],u,{memoizeOptions:{resultEqualityCheck:Me}}),[d,p]),P=j.useMemo(()=>g?a([E],g,{devModeChecks:{identityFunctionCheck:"never"}}):E,[E,g]),k=r(x=>P(x,m.current),Me),T=i(),Q=E(T.getState(),m.current);return ns(()=>{m.current=Q},[Q]),k}}function C(s){j.useEffect(()=>()=>{var u,S;(S=(u=s.current)==null?void 0:u.unsubscribe)==null||S.call(u),s.current=void 0},[s])}function R(s){if(!s.current)throw new Error(te(38));return s.current.refetch()}function h(s){const u=(I,g={})=>{const[d]=l(s,I,g);return C(d),j.useMemo(()=>({refetch:()=>R(d)}),[d])},S=({refetchOnReconnect:I,refetchOnFocus:g,pollingInterval:d=0,skipPollingIfUnfocused:p=!1}={})=>{const{initiate:m}=e.endpoints[s],E=n(),[P,k]=j.useState(wt),T=j.useRef(void 0),Q=Je({refetchOnReconnect:I,refetchOnFocus:g,pollingInterval:d,skipPollingIfUnfocused:p});v(()=>{var $,K;const F=($=T.current)==null?void 0:$.subscriptionOptions;Q!==F&&((K=T.current)==null||K.updateSubscriptionOptions(Q))},[Q]);const x=j.useRef(Q);v(()=>{x.current=Q},[Q]);const D=j.useCallback(function(F,$=!1){let K;return t(()=>{var U;(U=T.current)==null||U.unsubscribe(),T.current=K=E(m(F,{subscriptionOptions:x.current,forceRefetch:!$})),k(F)}),K},[E,m]),N=j.useCallback(()=>{var F,$;(F=T.current)!=null&&F.queryCacheKey&&E(e.internalActions.removeQueryResult({queryCacheKey:($=T.current)==null?void 0:$.queryCacheKey}))},[E]);return j.useEffect(()=>()=>{var F;(F=T==null?void 0:T.current)==null||F.unsubscribe()},[]),j.useEffect(()=>{P!==wt&&!T.current&&D(P,!0)},[P,D]),j.useMemo(()=>[D,P,{reset:N}],[D,P,N])},O=_(s,w);return{useQueryState:O,useQuerySubscription:u,useLazyQuerySubscription:S,useLazyQuery(I){const[g,d,{reset:p}]=S(I),m=O(d,{...I,skip:d===wt}),E=j.useMemo(()=>({lastArg:d}),[d]);return j.useMemo(()=>[g,{...m,reset:p},E],[g,m,p,E])},useQuery(I,g){const d=u(I,g),p=O(I,{selectFromResult:I===Z||g!=null&&g.skip?void 0:wn,...g}),m=Et(p,...Rt);return j.useDebugValue(m),j.useMemo(()=>({...p,...d}),[p,d])}}}function M(s){const u=(O,I={})=>{const[g,d,p,m]=l(s,O,I),E=j.useRef(m);v(()=>{E.current=m},[m]);const P=j.useCallback(function(Q,x){let D;return t(()=>{var N;(N=g.current)==null||N.unsubscribe(),g.current=D=d(p(Q,{subscriptionOptions:E.current,direction:x}))}),D},[g,d,p]);C(g);const k=_t(I.skip?Z:O,it,b.endpointDefinitions[s],s),T=j.useCallback(()=>R(g),[g]);return j.useMemo(()=>({trigger:P,refetch:T,fetchNextPage:()=>P(k,"forward"),fetchPreviousPage:()=>P(k,"backward")}),[T,P,k])},S=_(s,A);return{useInfiniteQueryState:S,useInfiniteQuerySubscription:u,useInfiniteQuery(O,I){const{refetch:g,fetchNextPage:d,fetchPreviousPage:p}=u(O,I),m=S(O,{selectFromResult:O===Z||I!=null&&I.skip?void 0:wn,...I}),E=Et(m,...Rt,"hasNextPage","hasPreviousPage");return j.useDebugValue(E),j.useMemo(()=>({...m,fetchNextPage:d,fetchPreviousPage:p,refetch:g}),[m,d,p,g])}}}function c(s){return({selectFromResult:u,fixedCacheKey:S}={})=>{const{select:O,initiate:I}=e.endpoints[s],g=n(),[d,p]=j.useState();j.useEffect(()=>()=>{d!=null&&d.arg.fixedCacheKey||d==null||d.reset()},[d]);const m=j.useCallback(function(F){const $=g(I(F,{fixedCacheKey:S}));return p($),$},[g,I,S]),{requestId:E}=d||{},P=j.useMemo(()=>O({fixedCacheKey:S,requestId:d==null?void 0:d.requestId}),[S,d,O]),k=j.useMemo(()=>u?a([P],u):P,[u,P]),T=r(k,Me),Q=S==null?d==null?void 0:d.arg.originalArgs:void 0,x=j.useCallback(()=>{t(()=>{d&&p(void 0),S&&g(e.internalActions.removeMutationResult({requestId:E,fixedCacheKey:S}))})},[g,S,d,E]),D=Et(T,...Rt,"endpointName");j.useDebugValue(D);const N=j.useMemo(()=>({...T,originalArgs:Q,reset:x}),[T,Q,x]);return j.useMemo(()=>[m,N],[m,N])}}}var is=Symbol(),ss=({batch:e=_r,hooks:t={useDispatch:br,useSelector:wr,useStore:An},createSelector:n=Ft,unstable__sideEffectsInRender:r=!1,...i}={})=>({name:is,init(o,{serializeQueryArgs:a},y){const b=o,{buildQueryHooks:v,buildInfiniteQueryHooks:w,buildMutationHook:A,usePrefetch:f}=rs({api:o,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:r,createSelector:n},serializeQueryArgs:a,context:y});return Ce(b,{usePrefetch:f}),Ce(y,{batch:e}),{injectEndpoint(l,_){if(Ji(_)){const{useQuery:C,useLazyQuery:R,useLazyQuerySubscription:h,useQueryState:M,useQuerySubscription:c}=v(l);Ce(b.endpoints[l],{useQuery:C,useLazyQuery:R,useLazyQuerySubscription:h,useQueryState:M,useQuerySubscription:c}),o[`use${He(l)}Query`]=C,o[`useLazy${He(l)}Query`]=R}if(Gi(_)){const C=A(l);Ce(b.endpoints[l],{useMutation:C}),o[`use${He(l)}Mutation`]=C}else if(Gn(_)){const{useInfiniteQuery:C,useInfiniteQuerySubscription:R,useInfiniteQueryState:h}=w(l);Ce(b.endpoints[l],{useInfiniteQuery:C,useInfiniteQuerySubscription:R,useInfiniteQueryState:h}),o[`use${He(l)}InfiniteQuery`]=C}}}}}),os=Hn(Jn(),ss());const hs=void 0,us=void 0;let Xn={user:null,tokens:{access_token:null,refresh_token:null}};if(typeof window<"u"){const e=localStorage.getItem("auth");if(e){const t=JSON.parse(e);t&&t.tokens&&(Xn=t)}}const Yn=he({name:"auth",initialState:Xn,reducers:{setAuth:(e,t)=>{e.user=t.payload.user,e.tokens.access_token=t.payload.tokens.access_token,e.tokens.refresh_token=t.payload.tokens.refresh_token,typeof window<"u"&&localStorage.setItem("auth",JSON.stringify(t.payload))},logout:e=>{e.user=null,e.tokens.access_token=null,e.tokens.refresh_token=null,typeof window<"u"&&localStorage.removeItem("auth")}}}),{setAuth:cs,logout:_n}=Yn.actions,gs=Yn.reducer,Ge=Mi({baseUrl:us,prepareHeaders:(e,t)=>{var r,i;const n=(i=(r=t.getState().auth)==null?void 0:r.tokens)==null?void 0:i.access_token;return n&&e.set("Authorization",`Bearer ${n}`),e}}),as=async(e,t,n)=>{const r=await Ge({url:"/token/verify/",method:"POST",body:{token:e}},t,n);return!(r.error&&r.error.status===401)},fs=async(e,t,n)=>{var b,v;typeof e=="string"&&(e={url:e});const r=t.getState();let i=r.auth.tokens.access_token;const o=r.auth.tokens.refresh_token;i&&(await as(i,t,n)||(console.warn("Access token invalid. Will attempt refresh..."),i=void 0));let a={...e.headers??{}};i&&(a.Authorization=`Bearer ${i}`);let y=await Ge({...e,headers:a},t,n);if(((b=y==null?void 0:y.error)==null?void 0:b.status)===401&&o){console.warn("Access token expired. Trying to refresh...");const A=(v=(await Ge({url:"/token/refresh/",method:"POST",body:{refresh:o}},t,n)).data)==null?void 0:v.access;A?(i=A,t.dispatch(cs({user:r.auth.user,tokens:{access_token:A,refresh_token:o}})),a.Authorization=`Bearer ${A}`,y=await Ge({...e,headers:a},t,n)):(console.error("Refresh token expired or invalid. Logging out..."),localStorage.removeItem("auth"),t.dispatch(_n()))}else o||(console.warn("No refresh token found. Logging out..."),localStorage.removeItem("auth"),t.dispatch(_n()));return y},ms=os({reducerPath:"api",baseQuery:fs,endpoints:()=>({})});export{hs as M,ps as P,gs as a,ms as b,ys as c,wr as d,he as e,_n as l,cs as s,br as u};
