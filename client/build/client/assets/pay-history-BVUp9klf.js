import{g as h,r as g,j as e}from"./index-7zqVQZSl.js";import{d as m}from"./dayjs.min-BRK4WLUO.js";import{u as j,t as y}from"./utc-BIQzp-gY.js";import{c as b}from"./paymentsApi-DkGlB8Q9.js";import"./apiSlice-B07QsG9S.js";var x={exports:{}},N=x.exports,p;function v(){return p||(p=1,function(r,u){(function(s,a){r.exports=a()})(N,function(){return function(s,a){var o=a.prototype,d=o.format;o.format=function(n){var t=this,l=this.$locale();if(!this.isValid())return d.bind(this)(n);var c=this.$utils(),f=(n||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(i){switch(i){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return l.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return l.ordinal(t.week(),"W");case"w":case"ww":return c.s(t.week(),i==="w"?1:2,"0");case"W":case"WW":return c.s(t.isoWeek(),i==="W"?1:2,"0");case"k":case"kk":return c.s(String(t.$H===0?24:t.$H),i==="k"?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return i}});return d.bind(this)(f)}}})}(x)),x.exports}var w=v();const k=h(w);m.extend(k);m.extend(j);m.extend(y);function G(){var n;const[r,u]=g.useState(1),{data:s,isLoading:a}=b(`?page=${r}`,{refetchOnMountOrArgChange:!0}),o=()=>{s!=null&&s.next&&u(t=>t+1)},d=()=>{s!=null&&s.previous&&r>1&&u(t=>t-1)};return e.jsx("section",{className:"py-6",children:e.jsxs("div",{className:"container",children:[e.jsx("h1",{className:"text-center text-[2rem] font-semibold leading-[1.4] text-title mb-[1.125rem] md:text-[2.625rem]",children:"Payment History"}),e.jsxs("div",{className:"p-4 mb-2",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full mb-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#f6f6f6]",children:[e.jsx("th",{className:"py-3 px-5 pl-10 text-lg text-left rounded-tl-2xl",children:"Email"}),e.jsx("th",{className:"py-3 px-5 text-lg text-left",children:"Amount"}),e.jsx("th",{className:"py-3 px-5 text-lg text-left",children:"Type"}),e.jsx("th",{className:"py-3 px-5 text-lg text-left rounded-tr-2xl",children:"Paid At"})]})}),e.jsx("tbody",{children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-4",children:"Loading..."})}):(n=s==null?void 0:s.results)==null?void 0:n.map(t=>{var l;return e.jsxs("tr",{className:"border-b border-[#0003] group",children:[e.jsxs("td",{className:"py-3 px-5 pl-10 text-sm md:text-lg text-left rounded-bl-2xl",children:[e.jsx("span",{className:"size-10 bg-[#d9d9d9] rounded-full inline-flex items-center justify-center uppercase mr-2.5",children:(l=t.user.name)==null?void 0:l.split(" ").slice(0,2).map(c=>c[0]).join("")}),t.user.email]}),e.jsxs("td",{className:"py-3 px-5 text-sm md:text-lg text-left",children:[t.amount," $"]}),e.jsx("td",{className:"py-3 px-5 text-sm md:text-lg text-left",children:t.status}),e.jsx("td",{className:"py-3 px-5 text-sm md:text-lg text-left rounded-br-2xl",children:m(t.payment_date).tz("Asia/Dhaka").format("MMMM Do YYYY, h:mm:ss a")})]},t.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4",children:[e.jsx("button",{onClick:d,disabled:!(s!=null&&s.previous),className:"w-8 h-8 rounded-full flex items-center justify-center bg-gray-200 hover:bg-gray-300 disabled:opacity-40 cursor-pointer",children:"‹"}),e.jsx("span",{className:"text-base font-medium",children:r}),e.jsx("button",{onClick:o,disabled:!(s!=null&&s.next),className:"w-8 h-8 rounded-full flex items-center justify-center bg-gray-200 hover:bg-gray-300 disabled:opacity-40 cursor-pointer",children:"›"})]})]})]})})}export{G as default};
